<!DOCTYPE html>
<html lang="de">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flask Temperaturwebserver</title>
 </head>
 <body>
  <h1>Demo Temperaturmessung mit Raspberry</h1>
  <p>Die aktuelle Temperatur ist <span id="getdyntemp"></span> Grad</p>
  <script>
   function updateTemperature()
   {
      fetch( "/getdyntemp" )
         .then( response => {
            if( !response.ok )
               throw new Error( "fetch failed" ) ;
            return response.json() ;
         } )
         .then( json => document.querySelector("#getdyntemp").textContent = json.getdyntemp )
         .catch( error => alert(error) ) ;
   }

   updateTemperature() ;

   setInterval( updateTemperature, 1000 ) ;
  </script>
 </body>
</html>